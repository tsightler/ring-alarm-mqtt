<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body {font-family: Arial, Helvetica, sans-serif; max-width: 500px;}
* {box-sizing: border-box;}

input[type=text], select, textarea {
  width: 100%;
  padding: 12px;
  border: 1px solid #ccc;
  border-radius: 4px;
  box-sizing: border-box;
  margin-top: 6px;
  margin-bottom: 16px;
  resize: vertical;
}

input[type=password], select, textarea {
  width: 100%;
  padding: 12px;
  border: 1px solid #ccc;
  border-radius: 4px;
  box-sizing: border-box;
  margin-top: 6px;
  margin-bottom: 16px;
  resize: vertical;
}

input[type=submit] {
  background-color: #47a9e6;
  color: white;
  padding: 12px 20px;
  border: none;
  border-radius: 4px;
  cursor: pointer;
}

input[type=submit]:hover {
  background-color: #315b82;
}

.container {
  color: black;
  max-width: 500px;
  border-radius: 5px;
  background-color: #f2f2f2;
  padding: 20px;
}
</style>
</head>
<body>

<h3 id="txt1">Acquire Refresh Token</h3>
<p id="txt2">Use this form to acquire a refresh token from Ring.com.  Submit the login information for the desired account and then the 2FA code.  Upon succesful 2FA authentication the refresh token will be displayed. Simply copy the entire string and paste into the config file.<br></p>
<p style="color:Red;" id="errormsg"></p>
<h3 id="txt3">Login</h3>
<div class="container">
  <form action="./submit-account" method="post">
    <label for="email">Email</label>
    <input type="text" id="email" name="email">
    <label for="password">Password</label>
    <input type="password" id="password" name="password">
    <input type="checkbox" onclick="showPassword()">Show Password
    <br><br>
    <input type="submit" value="Submit">
  </form>
</div>
<script>
var rgb = window.getComputedStyle(document.getElementById("txt1")).getPropertyValue('background-color');
var rgbVals = rgb.substring(rgb.indexOf('(')+1, rgb.length-1).split(', ');
document.getElementById("errormsg").innerHTML = rgb;
if (rgbVals.length === 4 && rgbVals[3] == 0 ) {
  document.getElementById("txt1").style.color = "black";
  document.getElementById("txt2").style.color = "black";
  document.getElementById("txt3").style.color = "black";
} else {
  var o = Math.round(((parseInt(rgb[1]) * 299) + (parseInt(rgb[2]) * 587) + (parseInt(rgb[3]) * 114)) /1000);
  if(o > 125) {
    document.getElementById("txt1").style.color = "black";
    document.getElementById("txt2").style.color = "black";
    document.getElementById("txt3").style.color = "black";
  } else {
    document.getElementById("txt1").style.color = "white";
    document.getElementById("txt2").style.color = "white";
    document.getElementById("txt3").style.color = "white";
  }
}
function showPassword() {
  var x = document.getElementById("password");
  if (x.type === "password") {
    x.type = "text";
  } else {
    x.type = "password";
  }
}
function getCookie(key) {
  var keyValue = document.cookie.match('(^|;) ?' + key + '=([^;]*)(;|$)');
  return keyValue ? keyValue[2] : null;
}
if (getCookie('error')) {
  document.getElementById("errormsg").innerHTML = getCookie('error');
}
</script>
</body>
</html>
